{"id":"tiny-glimmer.nvim-0qn","content_hash":"d169fab943e8fe39aaf8e960eafe448ff4de16bf436355bd535c0f21807cb21f","title":"Document implementation and provide user test instructions","description":"Code changes are complete. User needs to test with visual confirmation that modifiers appear.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T15:53:28.054284385+01:00","updated_at":"2025-11-19T15:53:36.44826587+01:00","closed_at":"2025-11-19T15:53:36.44826587+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-78i","content_hash":"ba0be82c9b60c62a2b4eeb703fba7e00fb929d66578bbff865d8db9ced3c19ac","title":"Test diff-based undo/redo implementation","description":"Verify the new diff_based.lua approach works for undo/redo operations with multi-location edits","notes":"Refactored animation system to support multiple ranges in single animation:\n- Added ranges array to GlimmerAnimation\n- Updated text.lua to iterate over all ranges\n- Single timer for all ranges eliminates jittering\n- Backwards compatible with single range\n- All 193 tests pass","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T21:20:11.532384613+01:00","updated_at":"2025-11-19T21:35:31.015038596+01:00","closed_at":"2025-11-19T21:35:30.969281643+01:00","source_repo":".","dependencies":[{"issue_id":"tiny-glimmer.nvim-78i","depends_on_id":"tiny-glimmer.nvim-a6s","type":"blocks","created_at":"2025-11-19T21:20:11.535892104+01:00","created_by":"daemon"}]}
{"id":"tiny-glimmer.nvim-7dm","content_hash":"f91a9c2b0b51712e41fef0fbef214dd7c89c0e34718f9ddfeedfa880fc6e1865","title":"Fix test: add redo config to test case","description":"test_api.lua line 161-168 needs redo config section","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-19T23:56:49.982415684+01:00","updated_at":"2025-11-19T23:57:45.046271913+01:00","closed_at":"2025-11-19T23:57:45.046271913+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-8fn","content_hash":"5dea816ffafdecf8e1d83a021e909bd49889ba63a065cea3effd7302404e5749","title":"Fix get_word_range offset by one issue","description":"The get_word_range function in lib.lua has an off-by-one error in calculating word boundaries","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-19T15:56:40.882623183+01:00","updated_at":"2025-11-19T16:00:57.024532663+01:00","closed_at":"2025-11-19T16:00:57.024532663+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-a6s","content_hash":"25716233ace18147464600e7083f1ecc6a9e38b28bf4d6a0cbbe253760ec6d96","title":"Fix multi-location atomic edits breaking highlighting","description":"The plugin breaks when edits occur at multiple locations simultaneously (e.g., with surround plugins like mini.surround). Need to detect and group on_bytes callbacks that correspond to a single multi-region logical edit.","design":"Current approach problems:\n1. on_bytes is low-level and fires for every buffer modification\n2. Debouncing with timers is unreliable for multi-location edits\n3. Multiple attachments cause duplicate animations\n\nBetter approach for undo/redo:\n1. Use TextChanged/TextChangedI autocmds instead of on_bytes\n2. Compare buffer state before/after undo/redo using nvim_buf_get_lines\n3. Use vim.diff() to calculate exact changed regions\n4. Simpler, more reliable, no timing issues\n\nFor paste: Keep using on_bytes but with proper single-use attachment pattern","acceptance_criteria":"1. Increase text_change_batch_timeout_ms from 10ms to 50ms default\n2. Make timeout configurable via config\n3. Update README with new config option\n4. All existing tests pass\n5. Backward compatible - timeout parameter optional","notes":"Fixed duplicate animation launches:\n\nRoot cause: handle_text_change_animation could be called multiple times before the first buffer attachment detached, causing duplicate on_bytes listeners on the same buffer.\n\nSolution: Added active_attachments table to track buffers with active listeners. Returns early if buffer already has an attachment, preventing duplicates.\n\nChanges:\n- Added active_attachments tracking (line 4)\n- Check for existing attachment before proceeding (lines 72-74)\n- Clear tracking when detaching (lines 87, 102)\n- Use explicit bufnr instead of 0 for buffer operations\n\nAll 193 tests pass.","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-11-19T16:04:22.172706101+01:00","updated_at":"2025-11-19T21:19:02.613732113+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-aa5","content_hash":"89f3406fcbec627f6367a41a4eccce5e1e4b64ff6c61f14ab90ea8b8fad094e4","title":"Fix attribute application logic in glimmer_animation.lua","description":"Attributes switch at progress 0.5 which is wrong. Should maintain from_attrs throughout animation, not switch to to_attrs halfway.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-19T15:50:35.684460007+01:00","updated_at":"2025-11-19T15:51:47.154230056+01:00","closed_at":"2025-11-19T15:51:47.154230056+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-adn","content_hash":"d387ded46045456dbdcfd98db2f891d8cc8af3b51e755c91e22ab757f533614d","title":"Verify extract_attributes function is properly exported and callable","description":"Check that lib_helpers.extract_attributes() exists and can be called. May be module caching issue or export problem.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T15:50:33.955709321+01:00","updated_at":"2025-11-19T15:50:56.90568943+01:00","closed_at":"2025-11-19T15:50:56.90568943+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-brs","content_hash":"64ed26d499aa400c1ef4a2ceed746c8a4eaeff3daf6d817092d6687a9010883e","title":"Multi-location atomic edits break highlighting","description":"Plugin breaks when edits are made in multiple locations simultaneously (e.g., surround plugin actions with mini.surround). Need to detect and group on_bytes callbacks that correspond to a single multi-region logical edit.","design":"The plugin has a debouncing mechanism in text_change.lua that batches on_bytes callbacks within 50ms. However, multi-location edits from surround plugins may trigger multiple animations instead of one unified animation. Current debounce timeout is 50ms (text_change_batch_timeout_ms).\n\nInvestigation needed:\n1. Check if the issue is timing-related (50ms may be too short)\n2. Verify on_bytes callbacks are properly batched\n3. Test if merge_ranges correctly combines multiple ranges\n4. Confirm animations don't spawn for each individual on_bytes event\n\nPotential solutions:\n- Increase timeout for better batching\n- Improve detection of atomic multi-location edits\n- Ensure single animation for merged ranges","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-11-19T23:36:06.46665235+01:00","updated_at":"2025-11-19T23:36:14.861557858+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-dv4","content_hash":"23d0f90be94f4f1487559830d31398b11c29ce5dcde81857686ec1f9ed5a204c","title":"Analyze issue #42: single-location undo/redo animation regression","description":"Investigate regression after fixing #40. When doing daw+undo on \"\u003ctag\u003e\u003ctext\u003e\u003c/tag\u003e\", animation starts at beginning of line instead of only on \"text\".","notes":"Issue appeared after commit ec7f950 which added multiple ranges support. Last known good commit is 8a19e0d. Need to examine changes in undo.lua, text_change.lua, and lib.lua","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-11-20T10:30:43.771878216+01:00","updated_at":"2025-11-20T10:30:56.952529765+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-evy","content_hash":"17290418774b6908496222292102672693f2165b52a011cba61fc7bf56a3f7ee","title":"Write unit tests for diff-based multi-range animation","description":"Create comprehensive unit tests for diff_based.lua that verify the correct behavior of LCS algorithm and multi-range detection","acceptance_criteria":"Tests should verify:\n1. LCS algorithm finds correct common substring\n2. Multi-location edits (like surround) return multiple ranges\n3. Single location edits return single range\n4. Empty diffs return no ranges\n5. Edge cases: beginning/end of line, empty lines, whole line changes","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T22:33:01.89077547+01:00","updated_at":"2025-11-19T22:34:51.722331823+01:00","closed_at":"2025-11-19T22:34:51.722331823+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-f9f","content_hash":"e40eb10de351d290ab9674d4c88a24a31e6c994bdefad0c53fa0a0f3142b0479","title":"Add error handling for empty color strings","description":"Handle cases where from_color/to_color might be empty strings in extract_attributes","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-19T15:50:36.376439715+01:00","updated_at":"2025-11-19T15:52:00.942626092+01:00","closed_at":"2025-11-19T15:52:00.942626092+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-jyg","content_hash":"697dbcce4289620555dfcb308b91b1a7cfabafdf8d2fd9d748dcf00593776242","title":"Add multi-range animation support to public API","description":"Expose the new multi-range animation functionality through the public API (lib.lua) so users can create animations with multiple ranges in a single call","acceptance_criteria":"1. Add ranges parameter support to all relevant animation functions\n2. Maintain backwards compatibility with existing range parameter\n3. Add tests for multi-range animations through public API","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T22:35:20.89163059+01:00","updated_at":"2025-11-19T22:39:08.494263698+01:00","closed_at":"2025-11-19T22:39:08.494263698+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-qi6","content_hash":"5c40c0d4791be97c2046aa44db851e16e0005b0e50238a90491aee7edfcf733c","title":"Implement \u003cc-r\u003e insert mode paste animation support","description":"Add animation support for \u003cc-r\u003e (paste from register) in insert mode using vim.on_key() to detect register selection","design":"Use vim.on_key() to track keystrokes and detect \u003cc-r\u003e in insert mode followed by register key. When detected:\n1. Get register content via vim.fn.getreg()\n2. Determine insertion position\n3. Trigger animation for the pasted content\n\nThis avoids the limitation of trying to hijack \u003cc-r\u003e directly which cannot capture the subsequent register key.","acceptance_criteria":"1. \u003cc-r\u003e followed by register key in insert mode triggers animation\n2. Works with all register types (named, numbered, system clipboard)\n3. Configurable via opts.overwrite.insert_paste.enabled\n4. No interference with normal \u003cc-r\u003e behavior","notes":"Tried vim.on_key() approach but animation not triggering. Switched to TextChangedI autocmd combined with vim.on_key() to track state. Need user testing to verify.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2025-11-19T22:45:01.061607692+01:00","updated_at":"2025-11-19T22:50:50.174187674+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-tzg","content_hash":"c46802991296132ee75e641ac9e7b6b6025b5b66523d985dd35650f443ee2e8b","title":"Fix circular dependency in undo/redo","description":"api.lua:163 passes config.overwrite.redo instead of config.overwrite.undo to redo()","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-19T23:36:54.494911525+01:00","updated_at":"2025-11-19T23:56:50.003941402+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-w9d","content_hash":"2a96f0bca789b7922b61b4526dfd3ebfebb44c25025abe13845037af7748b076","title":"Run full test suite","description":"Ensure all 193 tests still pass after diff-based changes","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T21:20:13.762022985+01:00","updated_at":"2025-11-19T21:20:21.680036818+01:00","closed_at":"2025-11-19T21:20:21.680036818+01:00","source_repo":"."}
{"id":"tiny-glimmer.nvim-x8v","content_hash":"bf4cd59209479a2033a6eb60008d68933052eb3efbc240d339cd580f62242a54","title":"Apply diff-based approach to paste operations","description":"Evaluate if paste should also use diff-based change detection instead of on_bytes","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-19T21:20:12.838669849+01:00","updated_at":"2025-11-19T21:20:12.838669849+01:00","source_repo":".","dependencies":[{"issue_id":"tiny-glimmer.nvim-x8v","depends_on_id":"tiny-glimmer.nvim-a6s","type":"blocks","created_at":"2025-11-19T21:20:12.839097006+01:00","created_by":"daemon"}]}
{"id":"tiny-glimmer.nvim-zqh","content_hash":"4ea5f14c7ebc5a323f616f715c8df19acd8e4316e4dea07cc4b6c2ab0ff7ced9","title":"Create minimal test case for attribute application","description":"Test bold attribute without animation to verify mechanism works at all","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T15:50:37.399597594+01:00","updated_at":"2025-11-19T15:53:27.031296763+01:00","closed_at":"2025-11-19T15:53:27.031296763+01:00","source_repo":"."}
